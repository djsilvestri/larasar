(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"2ff9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-md flex-center"},[a("div",{staticClass:"q-gutter-md"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 q-pa-md"},[a("q-card",{staticClass:"my-card text-white"},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("your_info")))])]),a("q-form",{staticClass:"q-pa-md"},[a("q-img",{staticClass:"q-mb-xl",staticStyle:{width:"100%"},attrs:{src:t.user.new.avatar||t.url+"/"+t.user.avatar,"native-context-menu":""}}),a("q-input",{attrs:{filled:"",type:"text",label:t.user.name||t.$t("name"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("name")}]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("q-input",{attrs:{filled:"",type:"email",label:t.user.email||t.$t("email"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("email")}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("q-btn",{attrs:{color:"primary",label:t.$t("update")},on:{click:function(e){return e.preventDefault(),t.info(e)}}})],1)],1)],1),a("div",{staticClass:"col-md-6 q-pa-md"},[a("q-card",{staticClass:"my-card text-white"},[a("q-card-section",{staticClass:"bg-primary"},[a("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("your_password")))])]),a("q-form",{staticClass:"q-pa-md"},[a("q-input",{attrs:{filled:"",type:t.isPwd?"password":"text",label:t.$t("your_password"),hint:t.password_data,"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("your_password")}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-input",{attrs:{filled:"",type:t.isPwd?"password":"text",label:t.$t("new_password"),hint:t.new_password_data,"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("new_password")}]},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}}),a("q-input",{attrs:{filled:"",type:t.isPwd?"password":"text",label:t.$t("confirm_password"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("confirm_password")}]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}}),a("q-btn",{attrs:{color:"primary",label:t.$t("update")},on:{click:function(e){return e.preventDefault(),t.pwd(e)}}})],1)],1)],1)])])])},r=[],n=(a("8e6e"),a("8a81"),a("c47a")),i=a.n(n),o=(a("7f7f"),a("551c"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("2f62"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){i()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")},d={name:"updatePage",data:function(){return{name:null,email:null,avatar:null,password:null,new_password:null,password_confirmation:null,isPwd:!0,file:"",url:""}},computed:Object(o["c"])({user:"users/authGetter"}),methods:{factoryFn:function(t){var e=this;return new Promise((function(a,s){var r=new FormData;r.append("avatar",t),a({url:"".concat(e.url,"/api/users/").concat(e.user.id,"?").concat(u(r)),method:"PUT"})}))},pwd:function(){this.$store.dispatch("users/updateAction",{pwd:!0,id:this.user.id,password:this.password,new_password:this.new_password,password_confirmation:this.password_confirmation})},handleFileUpload:function(){this.file=this.$refs.file.files[0]},info:function(){var t={id:this.user.id,name:this.name,email:this.email},e=new FormData;e.append("avatar",this.avatar),this.$store.dispatch("users/updateAction",c({},e,{},t))}}},p=d,f=a("2877"),w=a("eebe"),m=a.n(w),b=a("9989"),y=a("f09f"),h=a("a370"),v=a("0378"),_=a("068f"),q=a("27f9"),g=a("ee89"),O=a("9c40"),P=a("0016"),x=Object(f["a"])(p,s,r,!1,null,null,null);e["default"]=x.exports;m()(x,"components",{QPage:b["a"],QCard:y["a"],QCardSection:h["a"],QForm:v["a"],QImg:_["a"],QInput:q["a"],QUploader:g["a"],QBtn:O["a"],QIcon:P["a"]})}}]);